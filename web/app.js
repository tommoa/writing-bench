var x=(q,K=document)=>K.querySelector(q),M=(q,K=document)=>[...K.querySelectorAll(q)];function z(q,K={},...U){let N=document.createElement(q);for(let[Q,Y]of Object.entries(K)){if(Y==null)continue;if(Q==="className"&&typeof Y==="string")N.className=Y;else if(Q.startsWith("on")&&typeof Y==="function")N.addEventListener(Q.slice(2).toLowerCase(),Y);else if(Q==="innerHTML"&&typeof Y==="string")N.innerHTML=Y;else if(typeof Y==="string")N.setAttribute(Q,Y)}for(let Q of U)if(typeof Q==="string")N.appendChild(document.createTextNode(Q));else if(Q)N.appendChild(Q);return N}var m={index:null},c=null;function e(){let q=new URLSearchParams(location.search),K=q.get("run");if(K)return{page:"run",id:K};if(q.get("page")==="runs")return{page:"runs"};return{page:"dashboard"}}async function qq(){let q=await fetch("data/runs.json");if(!q.ok)throw Error("No data found. Run a benchmark and export first.");return q.json()}async function zq(q){let K=await fetch(`data/runs/${q}.json`);if(!K.ok)throw Error(`Run ${q} not found`);return K.json()}function j(q){let K=x("#app");if(K.innerHTML="",typeof q==="string")K.innerHTML=q;else K.appendChild(q)}function i(q){j(`<div id="error">${q}</div>`)}function n(q){return new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Kq(q){if(q>=100)return`${Math.round(q)}`;if(q>=10)return q.toFixed(1);return q.toFixed(2)}function o(q){let K=q.usage.inputTokens+q.usage.outputTokens;if(q.fromCache)return z("p",{className:"muted small mt-1"},`${K} tokens | [cached]`);let U=q.usage.cacheReadTokens?` (${q.usage.cacheReadTokens} cached)`:"",N=q.cost.totalUncached!=null&&q.cost.totalUncached>q.cost.total+0.00005?` (uncached: $${q.cost.totalUncached.toFixed(4)})`:"";return z("p",{className:"muted small mt-1"},`${K} tokens${U} | $${q.cost.total.toFixed(4)}${N} | ${(q.latencyMs/1000).toFixed(1)}s`)}function Nq(q){let K=q.usage?q.usage.inputTokens+q.usage.outputTokens:0;if(q.fromCache)return z("p",{className:"muted small mt-1"},`${K} tokens | [cached]`);let U=q.cost?q.cost.total:0,N=q.latencyMs?(q.latencyMs/1000).toFixed(1):"?";return z("p",{className:"muted small mt-1"},`${K} tokens | $${U.toFixed(4)} | ${N}s`)}function Qq(q){let K=document.createDocumentFragment();if(q.cumulativeElo.writing.length>0)K.appendChild(z("h2",{},"Writer ELO")),K.appendChild(f(q.cumulativeElo.writing));if(q.cumulativeElo.feedback.length>0)K.appendChild(z("h2",{},"Feedback Provider ELO")),K.appendChild(f(q.cumulativeElo.feedback));if(q.cumulativeElo.byTag&&Object.keys(q.cumulativeElo.byTag).length>0){K.appendChild(z("h2",{},"ELO by Tag"));for(let[U,N]of Object.entries(q.cumulativeElo.byTag)){let Q=z("details");Q.appendChild(z("summary",{},U)),Q.appendChild(z("div",{className:"details-content"},f(N))),K.appendChild(Q)}}if(q.eloHistory.length>1)K.appendChild(z("h2",{},"ELO History")),K.appendChild(Uq(q.eloHistory));if(q.runs.length>0)K.appendChild(z("h2",{},"Recent Runs")),K.appendChild(a(q.runs));if(q.runs.length===0&&q.cumulativeElo.writing.length===0)K.appendChild(z("p",{className:"muted mt-2"},"No benchmark data yet. Run a benchmark and export results."));j(K)}function f(q){let K=z("table");K.appendChild(z("thead",{},z("tr",{},z("th",{className:"rank"},"#"),z("th",{},"Model"),z("th",{className:"sortable"},"ELO"),z("th",{},"Matches"))));let U=z("tbody");return q.forEach((N,Q)=>{let Y=Q===0?"rating top":Q===q.length-1?"rating bottom":"rating";U.appendChild(z("tr",{},z("td",{className:"rank"},String(Q+1)),z("td",{},N.model),z("td",{className:Y},String(N.rating)),z("td",{className:"muted"},String(N.matchCount))))}),K.appendChild(U),K}function Uq(q){let K=z("div"),U=new Set;q.forEach((N)=>Object.keys(N.ratings).forEach((Q)=>U.add(Q)));for(let N of U){let Q=q.map((F)=>F.ratings[N]).filter((F)=>F!=null);if(Q.length<2)continue;let Y=Math.min(...Q),W=Math.max(...Q)-Y||1,H=120,Z=30,V=2,_=Q.map((F,R)=>{let D=V+R/(Q.length-1)*(H-2*V),y=V+(1-(F-Y)/W)*(Z-2*V);return`${D},${y}`}),J=`<svg viewBox="0 0 ${H} ${Z}"><path d="M${_.join("L")}"/></svg>`;K.appendChild(z("div",{className:"mb-1"},z("span",{},N+" "),z("span",{className:"sparkline",innerHTML:J}),z("span",{className:"muted small"},` ${Q[Q.length-1]}`)))}return K}function a(q){let K=z("ul",{className:"run-list"});for(let U of q){let N=z("a",{href:`?run=${U.id}`},n(U.timestamp)),Q=z("span",{className:"run-meta"},`${U.models.join(", ")} | ${U.promptCount} prompts | $${U.totalCost.toFixed(4)}`);K.appendChild(z("li",{},N,Q))}return K}function Vq(q){let K=document.createDocumentFragment();if(K.appendChild(z("h2",{},"All Runs")),q.runs.length>0)K.appendChild(a(q.runs));else K.appendChild(z("p",{className:"muted mt-2"},"No runs yet. Run a benchmark and export results."));j(K)}function Wq(q){let K=document.createDocumentFragment();K.appendChild(z("p",{},z("a",{href:"?"},"< back to leaderboard"))),K.appendChild(z("h2",{},`Run: ${n(q.config.timestamp)}`));let U=q.config.models.map((W)=>W.label).join(", ");if(q.config.judges&&q.config.judges.length>0){let W=q.config.judges.map((H)=>H.label).join(", ");K.appendChild(z("p",{className:"muted"},`Writers: ${U} | Judges: ${W}`))}else K.appendChild(z("p",{className:"muted"},`Models: ${U}`));if(K.appendChild(z("h2",{},"Initial Writer ELO")),K.appendChild(S(q.elo.initial.ratings)),K.appendChild(z("h2",{},"Revised Writer ELO")),K.appendChild(S(q.elo.revised.ratings)),q.elo.revised.feedbackRatings&&q.elo.revised.feedbackRatings.length>0)K.appendChild(z("h2",{},"Feedback Provider ELO")),K.appendChild(S(q.elo.revised.feedbackRatings));if(q.elo.initial.byTag&&Object.keys(q.elo.initial.byTag).length>0){K.appendChild(z("h2",{},"ELO by Tag"));for(let[W,H]of Object.entries(q.elo.initial.byTag)){let Z=z("details");Z.appendChild(z("summary",{},W));let V=z("div",{className:"details-content"});if(V.appendChild(z("h4",{},"Initial")),V.appendChild(S(H)),q.elo.revised.byTag?.[W])V.appendChild(z("h4",{},"Revised")),V.appendChild(S(q.elo.revised.byTag[W]));Z.appendChild(V),K.appendChild(Z)}}let N=z("div",{className:"section-header"});N.appendChild(z("h2",{},"Outputs by Prompt"));let Q=document.createElement("select");Q.className="prompt-filter-select",Q.appendChild(new Option("All prompts","all"));let Y=[...new Set(q.config.prompts.flatMap((W)=>W.tags))].sort();if(Y.length>1)for(let W of Y)Q.appendChild(new Option(`Tag: ${W}`,`tag:${W}`));for(let W of q.config.prompts)Q.appendChild(new Option(W.name,`id:${W.id}`));N.appendChild(Q),K.appendChild(N);let G=z("div",{id:"prompt-sections"});for(let W of q.config.prompts){let H=Xq(q,W);H.setAttribute("data-prompt-id",W.id),H.setAttribute("data-prompt-tags",W.tags.join(",")),G.appendChild(H)}K.appendChild(G),Q.addEventListener("change",()=>{let W=Q.value;for(let H of M("[data-prompt-id]",G))if(W==="all")H.style.display="";else if(W.startsWith("tag:")){let Z=W.slice(4),V=(H.getAttribute("data-prompt-tags")??"").split(",");H.style.display=V.includes(Z)?"":"none"}else if(W.startsWith("id:")){let Z=W.slice(3);H.style.display=H.getAttribute("data-prompt-id")===Z?"":"none"}}),K.appendChild(z("h2",{},"Judgments")),K.appendChild(Zq(q)),K.appendChild(z("h2",{},"Run Metadata")),K.appendChild(_q(q)),j(K)}function g(q,K){return z("div",{className:"cost-item"},z("div",{className:"label"},q),z("div",{className:"value"},K))}function S(q){let K=z("table");K.appendChild(z("thead",{},z("tr",{},z("th",{className:"rank"},"#"),z("th",{},"Model"),z("th",{},"ELO"),z("th",{},"W/L/T"))));let U=z("tbody");return q.forEach((N,Q)=>{let Y=Q===0?"rating top":Q===q.length-1?"rating bottom":"rating",G=`${N.wins}/${N.losses}/${N.ties}`;U.appendChild(z("tr",{},z("td",{className:"rank"},String(Q+1)),z("td",{},N.model),z("td",{className:Y},String(N.rating)),z("td",{className:"wlt"},G)))}),K.appendChild(U),K}function Xq(q,K){let U=z("details");U.appendChild(z("summary",{},`${K.name} (${K.tags.join(", ")})`));let N=z("div",{className:"details-content"});N.appendChild(z("p",{className:"muted small"},K.description));let Q=q.samples.filter((V)=>V.promptId===K.id&&V.stage==="initial").sort((V,_)=>V.model.localeCompare(_.model)||V.outputIndex-_.outputIndex);if(Q.length===0)return N.appendChild(z("p",{className:"muted"},"No outputs.")),U.appendChild(N),U;let Y=Q.length>4,G=z("div"),W=Q.map((V)=>{let J=Q.filter((F)=>F.model===V.model).length>1?` #${V.outputIndex+1}`:"";return`${V.model}${J}`});function H(V){M(".tab-content",G).forEach((J)=>J.classList.remove("active"));let _=`prompt-${K.id}-${V}`;x(`#${_}`,G)?.classList.add("active")}let Z;if(Y){let V=document.createElement("select");V.className="model-select";for(let _=0;_<W.length;_++)V.appendChild(new Option(W[_],String(_)));V.addEventListener("change",()=>{H(Number(V.value))}),Z=z("div",{className:"tabs tabs-dropdown"}),Z.appendChild(V)}else{Z=z("div",{className:"tabs"});for(let V=0;V<W.length;V++){let _=z("button",{className:V===0?"tab active":"tab",onClick:()=>{M(".tab",Z).forEach((J)=>J.classList.remove("active")),_.classList.add("active"),H(V)}},W[V]);Z.appendChild(_)}}return Q.forEach((V,_)=>{let J=`prompt-${K.id}-${_}`,F=z("div",{id:J,"data-sample-id":V.id,className:_===0?"tab-content active":"tab-content"});F.appendChild(z("div",{className:"output-text"},V.text)),F.appendChild(o(V));let R=q.judgments.filter((y)=>y.sampleA===V.id||y.sampleB===V.id).length;if(R>0)F.appendChild(z("button",{className:"view-judgments-btn",onClick:()=>c?.focusSample(V.id)},`view ${R} judgments →`));let D=q.feedback.filter((y)=>y.targetSampleId===V.id).sort((y,L)=>y.sourceModel.localeCompare(L.sourceModel));for(let y of D){let L=z("details");L.appendChild(z("summary",{},`Feedback from ${y.sourceModel}`));let k=z("div",{className:"details-content"}),P=z("div",{className:"feedback-text"});P.appendChild(document.createTextNode(y.text)),P.appendChild(Nq(y)),k.appendChild(P);let $=q.samples.find((w)=>w.stage==="revised"&&w.feedbackUsed===y.id&&w.promptId===K.id);if($){let w=z("div",{className:"revision-nested",id:`sample-${$.id}`});w.appendChild(z("div",{className:"muted small"},`${$.model}'s revision:`)),w.appendChild(z("div",{className:"output-text"},$.text)),w.appendChild(o($));let C=q.judgments.filter((I)=>I.sampleA===$.id||I.sampleB===$.id).length;if(C>0)w.appendChild(z("button",{className:"view-judgments-btn",onClick:()=>c?.focusSample($.id)},`view ${C} judgments →`));k.appendChild(w)}L.appendChild(k),F.appendChild(L)}G.appendChild(F)}),N.appendChild(Z),N.appendChild(G),U.appendChild(N),U}function p(q){let K=q.parentElement;while(K){if(K.tagName==="DETAILS")K.setAttribute("open","");K=K.parentElement}}function d(q,K){let U=K.samples.find((Y)=>Y.id===q);if(!U)return;let N=K.samples.filter((Y)=>Y.promptId===U.promptId&&Y.stage==="initial").sort((Y,G)=>Y.model.localeCompare(G.model)||Y.outputIndex-G.outputIndex),Q=null;if(U.stage==="initial"){let Y=N.findIndex((H)=>H.id===q);if(Y===-1)return;let G=`prompt-${U.promptId}-${Y}`,W=x(`#${G}`);if(!W)return;p(W),s(W,Y),Q=W}else{let Y=x(`#sample-${q}`);if(!Y)return;if(p(Y),U.originalSampleId){let G=N.findIndex((W)=>W.id===U.originalSampleId);if(G!==-1){let W=`prompt-${U.promptId}-${G}`,H=x(`#${W}`);if(H)s(H,G)}}Q=Y}if(Q)Q.scrollIntoView({behavior:"smooth",block:"start"}),Q.classList.add("scroll-highlight"),Q.addEventListener("animationend",()=>Q.classList.remove("scroll-highlight"),{once:!0})}function s(q,K){let U=q.parentElement;if(!U)return;let N=U.previousElementSibling;if(N&&N.classList.contains("tabs")){let Q=x("select.model-select",N);if(Q)Q.value=String(K);M(".tab",N).forEach((Y,G)=>{Y.classList.toggle("active",G===K)})}M(".tab-content",U).forEach((Q)=>Q.classList.remove("active")),q.classList.add("active")}function Yq(q,K){let U=K.get(q.sampleA),N=K.get(q.sampleB);if(q.stage==="improvement"){let Q=U?.stage==="initial",Y=Q?U:N,G=Q?N:U,W=G?.feedbackModel??"?",H=`${Y?.model??"?"} (original)`,Z=`${G?.model??"?"} (revised, fb: ${W})`,V;if(q.winner==="tie")V="Tie";else V=(q.winner==="A"?U:N)?.stage==="initial"?"original":"revised";return Q?{labelA:H,labelB:Z,winnerLabel:V}:{labelA:Z,labelB:H,winnerLabel:V}}if(q.stage==="revised"){let Q=U?.feedbackModel?` (fb: ${U.feedbackModel})`:"",Y=N?.feedbackModel?` (fb: ${N.feedbackModel})`:"";return{labelA:`${U?.model??"?"}${Q}`,labelB:`${N?.model??"?"}${Y}`,winnerLabel:q.winner==="tie"?"Tie":q.winner==="A"?U?.model??"?":N?.model??"?"}}return{labelA:U?.model??"?",labelB:N?.model??"?",winnerLabel:q.winner==="tie"?"Tie":q.winner==="A"?U?.model??"?":N?.model??"?"}}function Zq(q){let K=z("div");K.id="judgments-section";let U=q.judgments;if(U.length===0)return K.appendChild(z("p",{className:"muted"},"No judgments.")),K;let N=new Map(q.samples.map((X)=>[X.id,X])),Q=[...new Set(U.map((X)=>X.stage))].sort(),Y=[...new Set(U.map((X)=>X.judgeModel))].sort(),G=[...new Set(q.samples.map((X)=>X.model))].sort(),W=q.config.prompts,H=[...new Set(W.flatMap((X)=>X.tags))].sort(),Z="all",V="all",_="all",J="all",F="all",R=null,D=z("div",{className:"judgment-filters"}),y=document.createElement("select");if(y.appendChild(new Option("All prompts","all")),H.length>1)for(let X of H)y.appendChild(new Option(`Tag: ${X}`,`tag:${X}`));for(let X of W)y.appendChild(new Option(X.name,`id:${X.id}`));let L=document.createElement("select");L.appendChild(new Option("All stages","all"));for(let X of Q)L.appendChild(new Option(X,X));let k=document.createElement("select");k.appendChild(new Option("All judges","all"));for(let X of Y)k.appendChild(new Option(X,X));let P=document.createElement("select");P.appendChild(new Option("All models","all"));for(let X of G)P.appendChild(new Option(X,X));let $=document.createElement("select");$.appendChild(new Option("All models","all"));for(let X of G)$.appendChild(new Option(X,X));D.appendChild(z("span",{className:"muted small"},"Prompt: ")),D.appendChild(y),D.appendChild(z("span",{className:"muted small"}," Stage: ")),D.appendChild(L),D.appendChild(z("span",{className:"muted small"}," Judge: ")),D.appendChild(k),D.appendChild(z("span",{className:"muted small"}," Model A: ")),D.appendChild(P),D.appendChild(z("span",{className:"muted small"}," vs B: ")),D.appendChild($),K.appendChild(D);let w=z("div",{className:"sample-filter-badge"});w.style.display="none",K.appendChild(w);let C=z("div",{className:"h2h-summary"});C.style.display="none",K.appendChild(C);let I=z("div");K.appendChild(I);let h=()=>{let X=U;if(R){X=X.filter((T)=>T.sampleA===R||T.sampleB===R);let O=N.get(R);w.innerHTML="",w.style.display="flex",w.appendChild(z("span",{},`Showing judgments for ${O?.model??"unknown"}'s output`)),w.appendChild(z("button",{className:"badge-clear",onClick:()=>{R=null,h()}},"✕ clear"))}else w.style.display="none";if(F!=="all"){if(F.startsWith("tag:")){let O=F.slice(4),T=new Set(W.filter((E)=>E.tags.includes(O)).map((E)=>E.id));X=X.filter((E)=>T.has(E.promptId))}else if(F.startsWith("id:")){let O=F.slice(3);X=X.filter((T)=>T.promptId===O)}}if(Z!=="all")X=X.filter((O)=>O.stage===Z);if(V!=="all")X=X.filter((O)=>O.judgeModel===V);if(_!=="all"&&J!=="all")X=X.filter((O)=>{let T=N.get(O.sampleA)?.model,E=N.get(O.sampleB)?.model;return T===_&&E===J||T===J&&E===_});else if(_!=="all")X=X.filter((O)=>{let T=N.get(O.sampleA)?.model,E=N.get(O.sampleB)?.model;return T===_||E===_});else if(J!=="all")X=X.filter((O)=>{let T=N.get(O.sampleA)?.model,E=N.get(O.sampleB)?.model;return T===J||E===J});if(_!=="all"&&J!=="all"&&_!==J){let O=0,T=0,E=0;for(let A of X){let b=N.get(A.sampleA)?.model;if(A.winner==="tie")E++;else if(A.winner==="A")if(b===_)O++;else T++;else if(b===_)T++;else O++}C.innerHTML="",C.style.display="block",C.appendChild(z("div",{className:"h2h-record"},z("span",{className:"h2h-model"},_),z("span",{className:"h2h-wins"},` ${O}W`),z("span",{className:"muted"}," / "),z("span",{className:"h2h-losses"},`${T}L`),z("span",{className:"muted"}," / "),z("span",{className:"h2h-ties"},`${E}T`),z("span",{className:"muted"}," vs "),z("span",{className:"h2h-model"},J)))}else C.style.display="none";I.innerHTML="",I.appendChild(z("p",{className:"muted small mb-1"},`${X.length} of ${U.length} judgments`));for(let O of X){let T=q.config.prompts.find((B)=>B.id===O.promptId),{labelA:E,labelB:A,winnerLabel:b}=Yq(O,N),t=O.winner==="A"?"a":O.winner==="B"?"b":"tie",r=z("a",{href:"#",className:"judgment-sample-link",onClick:(B)=>{B.preventDefault(),d(O.sampleA,q)}},E),l=z("a",{href:"#",className:"judgment-sample-link",onClick:(B)=>{B.preventDefault(),d(O.sampleB,q)}},A),v=z("div",{className:"judgment"});if(v.appendChild(z("div",{className:"judgment-header"},z("span",{className:"judgment-stage"},O.stage),z("span",{},` ${T?.name??O.promptId}`),z("span",{className:"judgment-judge"},`Judge: ${O.judgeModel}`))),v.appendChild(z("div",{className:"judgment-matchup"},r,z("span",{className:"muted"}," vs "),l)),v.appendChild(z("div",{className:"judgment-result"},z("span",{className:"muted"},"→ "),z("span",{className:`judgment-winner ${t}`},b))),O.reasoning)v.appendChild(z("div",{className:"judgment-reasoning"},O.reasoning));I.appendChild(v)}};return y.addEventListener("change",()=>{F=y.value,R=null,h()}),L.addEventListener("change",()=>{Z=L.value,R=null,h()}),k.addEventListener("change",()=>{V=k.value,R=null,h()}),P.addEventListener("change",()=>{_=P.value,R=null,h()}),$.addEventListener("change",()=>{J=$.value,R=null,h()}),c={focusSample(X){let O=N.get(X);R=X,F="all",Z="all",V="all",_=O?.model??"all",J="all",y.value="all",L.value="all",k.value="all",P.value=_,$.value="all",h(),K.scrollIntoView({behavior:"smooth"})},focusModel(X){R=null,F="all",_=X,J="all",Z="all",V="all",y.value="all",L.value="all",k.value="all",P.value=X,$.value="all",h(),K.scrollIntoView({behavior:"smooth"})}},h(),K}function _q(q){let K=z("div"),U=z("div",{className:"cost-grid"});if(U.appendChild(g("Total Cost",`$${q.meta.totalCost.toFixed(4)}`)),q.meta.totalCostUncached!=null&&q.meta.totalCostUncached>q.meta.totalCost+0.00005)U.appendChild(g("Uncached Cost",`$${q.meta.totalCostUncached.toFixed(4)}`));U.appendChild(g("Duration",`${(q.meta.durationMs/1000).toFixed(1)}s`)),U.appendChild(g("Total Tokens",q.meta.totalTokens.toLocaleString())),K.appendChild(U);let N=[{key:"initial",label:"Write"},{key:"initialJudging",label:"Judge"},{key:"feedback",label:"Feedback"},{key:"revised",label:"Revise"},{key:"revisedJudging",label:"Re-Judge"}],Q=Object.keys(q.meta.costByModel).sort(),Y=q.meta.costByModelByStage??{},G=N.filter((W)=>Q.some((H)=>(Y[H]?.[W.key]??0)>0));if(Q.length>0&&G.length>0){K.appendChild(z("h3",{},"Cost Breakdown"));let W=z("table",{className:"cost-breakdown-table"}),H=[z("th",{},"Model"),...G.map((V)=>z("th",{},V.label)),z("th",{},"Total"),z("th",{},"Speed")];W.appendChild(z("thead",{},z("tr",{},...H)));let Z=z("tbody");for(let V of Q){let _=Y[V]??{},J=q.meta.costByModel[V]??0,F=q.meta.speedByModel?.[V],R=F?`${Kq(F.tokensPerSecond)} tok/s`:"-",D=[z("td",{},V),...G.map((y)=>{let L=_[y.key]??0;return z("td",{className:"cost"},L>0?`$${L.toFixed(4)}`:"-")}),z("td",{className:"cost total"},`$${J.toFixed(4)}`),z("td",{className:"speed"},R)];Z.appendChild(z("tr",{},...D))}W.appendChild(Z),K.appendChild(W)}if(q.modelInfo&&Object.keys(q.modelInfo).length>0){K.appendChild(z("h3",{},"Models"));let W=z("div",{className:"model-cards"});for(let[H,Z]of Object.entries(q.modelInfo))W.appendChild(z("div",{className:"model-card"},z("div",{className:"name"},H),z("div",{className:"detail"},Z.name),z("div",{className:"detail"},`Family: ${Z.family}`),z("div",{className:"detail"},`$${Z.costPer1MInput}/M in, $${Z.costPer1MOutput}/M out`),Z.releaseDate?z("div",{className:"detail"},`Released: ${Z.releaseDate}`):null,z("div",{className:"detail"},Z.openWeights?"Open weights":"Proprietary")));K.appendChild(W)}return K}async function Hq(){try{m.index=await qq()}catch(q){i(q instanceof Error?q.message:String(q));return}M(".nav a").forEach((q)=>{q.addEventListener("click",(K)=>{K.preventDefault(),history.pushState(null,"",q.getAttribute("href")),u()})}),window.addEventListener("popstate",u),u()}function u(){let{page:q,id:K}=e();switch(c=null,M(".nav a").forEach((U)=>{let N=U.getAttribute("data-page"),Q=N===q||q==="run"&&N==="runs";U.classList.toggle("active",Q)}),q){case"dashboard":Qq(m.index);break;case"runs":Vq(m.index);break;case"run":Oq(K);break}}async function Oq(q){j('<div id="loading">loading run...</div>');try{let K=await zq(q);Wq(K)}catch(K){i(K instanceof Error?K.message:String(K))}}Hq();
